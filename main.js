(()=>{"use strict";const e=(e,t,...s)=>{const d=document.createElement(e);for(let e in t)d.setAttribute(e,t[e]);return s.forEach((e=>{"string"==typeof e?d.appendChild(document.createTextNode(e)):d.appendChild(e)})),d},t=(e,...t)=>{t.forEach((t=>e.appendChild(t)))},s=(s,i)=>{const n=e("div",{class:"text-input-module"}),r=d(s,i.title),a=e("input",{type:"text",class:"hide"});return t(n,r,a),r.addEventListener("click",(()=>{a.classList.toggle("hide"),r.classList.toggle("hide"),a.value=i.title,a.focus(),a.select()})),a.addEventListener("focusout",(()=>{a.classList.toggle("hide"),r.classList.toggle("hide"),r.firstChild.textContent=a.value,i.title=a.value})),n},d=(t,s)=>{const d=e("div",{class:"title-wrapper"});[e(t,{class:"title"},s),e("i",{class:"far fa-edit hide"})].forEach((e=>d.appendChild(e)));let i=()=>d.lastChild.classList.toggle("hide");return d.addEventListener("mouseover",i),d.addEventListener("mouseout",i),d},i=(t,s,d)=>{const i=e("div",{class:`${d}-wrapper`}),n=e(t.type,{class:`${d}-title`},t.title),r=e("input",{type:s.type,class:`${d}-input`,placeholder:s.placeholder});return console.log(status),[n,r].forEach((e=>i.appendChild(e))),i},n=d=>{const n=e("div",{class:"popup-wrapper hide"}),r=e("div",{class:"popup hide"});return r.appendChild((d=>{const i=e("div",{class:"popup-head"}),n=s("h2",d),r=e("div",{class:"priority"},d.priority),a=(t=>{const s=e("div",{class:"close"},"x");return s.addEventListener("click",(()=>{document.querySelector(".popup-wrapper").remove()})),s})();return t(i,n,r,a),i})(d)),r.appendChild((s=>{const d=e("div",{class:"popup-body"}),n=i({type:"h3",title:"description:"},{type:"textarea",placeholder:"Click to add description..."},"description");t(descriptionWrapper,descriptionTitle,descriptionInput);const r=e("h3",{class:"notes-wrapper"}),a=e("div",{class:"notes"},"Notes"),l=e("div",{class:"notes"},"A note");return t(r,a,l),t(d,n,r),d})()),n.appendChild(r),n},r=d=>({renderList:()=>{const r=e("div",{class:"list",name:d.title,"data-index":d.index}),o=a(d),p=l(d),u=c(d);return o.lastChild.addEventListener("click",(()=>{d.parent.splice(d.index,1);for(let e=0;e<d.parent.length;e++)d.parent[e].index=e;o.parentElement.remove()})),u.firstChild.addEventListener("click",(()=>{const r=((d,r,a,l,c)=>{let o={title:"Click to add title",description:"",dateCreated:new Date,dueDate:"due",priority:"",notes:[],completed:!1,parent:c,index:c.length};return Object.assign({},(e=>({get title(){return e.title},get description(){return e.description},get dateCreated(){return e.dateCreated},get dueDate(){return e.dueDate},get priority(){return e.priority},get notes(){return e.notes}}))(o),(e=>({updateTitle:t=>e.title=t,updateDescription:t=>e.description=t,updateDueDate:t=>e.dueDate=t,updatePriority:t=>e.priority=t,addNote:t=>e.notes.push(t)}))(o),(d=>({renderTask:()=>{const r=e("div",{class:"task"}),a=(t=>{const d=e("div",{class:"task-head"});return[s("h3",t),e("div",{class:"delete"},"x")].forEach((e=>d.appendChild(e))),d})(d),l=(s=>{const d=e("div",{class:"task-body"}),n=e("div",{class:"due-date"},s.dueDate),r=i({type:"h4",title:"completed:"},{type:"checkbox"},"completed");return n.addEventListener("click",(()=>{})),r.lastChild.addEventListener("change",(()=>s.completed=!s.completed)),t(d,n,r),d})(d);return a.lastChild.addEventListener("click",(()=>{d.parent.splice(d.index,1);for(let e=0;e<d.parent.length;e++)d.parent[e].index=e;a.parentElement.remove()})),l.addEventListener("click",(e=>{if("task-body"!==e.target.classList[0])return;const t=n(d),s=document.querySelector("body");s.insertBefore(t,s.firstChild)})),r.appendChild(a),r.appendChild(l),r}}))(o))})(0,0,0,0,d.tasks);d.tasks.push(r),p.appendChild(r.renderTask())})),r.appendChild(o),r.appendChild(p),r.appendChild(u),r}}),a=t=>{const d=e("div",{class:"list-head"}),i=s("h2",t),n=e("div",{class:"delete"},"x");return d.appendChild(i),d.appendChild(n),d},l=t=>{const s=e("div",{class:"list-body"});return t.tasks.forEach((e=>s.appendChild(_renderTask(e)))),s},c=t=>{const s=e("div",{class:"list-footer"}),d=e("div",{class:"new-task"},"+ Add new task");return s.appendChild(d),s},o=t=>{const s=e("div",{class:"work-space container"}),d=((t,s)=>{const d={text:t,target:s,active:!1};return Object.assign({},(t=>({renderBtn:()=>{const s=e("div",{class:"new-list"}),d=e("form",{class:"hide",id:"new-list-from"}),i=e("input",{id:"list-title-input",type:"text",placeholder:"Enter list title..."}),n=e("div",{id:"create-list"},t.text);return d.appendChild(i),s.appendChild(d),s.appendChild(n),s.addEventListener("mouseenter",(()=>{d.classList.remove("hide")})),s.addEventListener("mouseleave",(()=>{d.classList.add("hide")})),s}}))(d),(e=>({pushToMyLists:t=>{e.target.push(t)},log:()=>{console.log(e.target)},getIndex:()=>e.target.length}))(d))})("+ Create new list",t),i=d.renderBtn();return i.lastChild.addEventListener("click",(()=>{const e=((e,t,s)=>{const d={title:e,tasks:[],index:t,parent:s};return Object.assign({},(e=>({addtask:t=>e.tasks.push(t),changeIndex:t=>e.index=t,deleteList:()=>{}}))(d),(e=>({get title(){return e.title},get tasks(){return e.tasks},get index(){return e.index}}))(d),(e=>({logTasks:()=>e.tasks.forEach((e=>e.logTitle()))}))(d),r(d))})(i.firstChild.firstChild.value,d.getIndex(),t);d.pushToMyLists(e),s.insertBefore(e.renderList(),s.lastChild),i.firstChild.reset()})),s.appendChild(i),t.forEach((e=>{s.insertBefore(e.renderList(),s.childNodes[0])})),s};({content:document.querySelector("#content")}).content.appendChild((t=>{const s=document.createElement("div");return s.appendChild((()=>{const t=document.createElement("nav"),s=(t=>{const s=e("div",{class:"row"});return t.forEach((t=>{const d=(t=>{const s=e("div",{class:"col"}),d=e("div",{class:t.classes},t.text);return s.appendChild(d),s})(t);s.appendChild(d)})),s})([{text:"TaskTracker",classes:"logo"}]);return s.classList.add("container"),t.appendChild(s),t})()),s.appendChild(o(t)),s})([])),document.querySelector("#create-list")})();