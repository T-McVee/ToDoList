(()=>{"use strict";const e=(e,t,...s)=>{const d=document.createElement(e);for(let e in t)d.setAttribute(e,t[e]);return s.forEach((e=>{"string"==typeof e?d.appendChild(document.createTextNode(e)):d.appendChild(e)})),d},t=(e,...t)=>{t.forEach((t=>e.appendChild(t)))},s=(s,i)=>{const n=e("div",{class:"text-input-module"}),r=d(s,i.title),a=e("input",{type:"text",class:"hide"});return t(n,r,a),r.addEventListener("click",(()=>{a.classList.toggle("hide"),r.classList.toggle("hide"),a.value=i.title,a.focus(),a.select()})),a.addEventListener("focusout",(()=>{a.classList.toggle("hide"),r.classList.toggle("hide"),r.firstChild.textContent=a.value,i.title=a.value})),n},d=(t,s)=>{const d=e("div",{class:"title-wrapper"});[e(t,{class:"title"},s),e("i",{class:"far fa-edit hide"})].forEach((e=>d.appendChild(e)));let i=()=>d.lastChild.classList.toggle("hide");return d.addEventListener("mouseover",i),d.addEventListener("mouseout",i),d},i=d=>{const i=e("div",{class:"popup-wrapper hide"}),n=e("div",{class:"popup hide"});return n.appendChild((d=>{const i=e("div",{class:"popup-head"}),n=s("h2",d),r=e("div",{class:"priority"},d.priority),a=(t=>{const s=e("div",{class:"close"},"x");return s.addEventListener("click",(()=>{document.querySelector(".popup-wrapper").remove()})),s})();return t(i,n,r,a),i})(d)),n.appendChild((s=>{const d=e("div",{class:"popup-body"}),i=e("div",{class:"description-wrapper"}),n=e("h3",{class:"description-title"},"Description:"),r=e("textarea",{type:"text",class:"description-input",placeholder:"Click to add description..."});t(i,n,r);const a=e("h3",{class:"notes-wrapper"}),l=e("div",{class:"notes"},"Notes"),c=e("div",{class:"notes"},"A note");return t(a,l,c),t(d,i,a),d})()),i.appendChild(n),i},n=d=>({renderTask:()=>{const n=e("div",{class:"task"}),r=(t=>{const d=e("div",{class:"task-head"});return[s("h3",t),e("div",{class:"delete"},"x")].forEach((e=>d.appendChild(e))),d})(d),a=(s=>{const d=e("div",{class:"task-body"}),i=e("div",{class:"due-date"},s.dueDate),n=((t,s,d)=>{const i=e("div",{class:"completed-wrapper"}),n=e(t.type,{class:d},t.title),r=e("input",{type:"checkbox"});return console.log(status),[n,r].forEach((e=>i.appendChild(e))),i})({type:"h4",title:"completed:"},0,"completed",s.completed);return i.addEventListener("click",(()=>{})),n.lastChild.addEventListener("change",(()=>s.completed=!s.completed)),t(d,i,n),d})(d);return r.lastChild.addEventListener("click",(()=>{d.parent.splice(d.index,1);for(let e=0;e<d.parent.length;e++)d.parent[e].index=e;r.parentElement.remove()})),a.addEventListener("click",(e=>{if("task-body"!==e.target.classList[0])return;const t=i(d),s=document.querySelector("body");s.insertBefore(t,s.firstChild)})),n.appendChild(r),n.appendChild(a),n}}),r=t=>{const d=e("div",{class:"list-head"}),i=s("h2",t),n=e("div",{class:"delete"},"x");return d.appendChild(i),d.appendChild(n),d},a=t=>{const s=e("div",{class:"list-body"});return t.tasks.forEach((e=>s.appendChild(_renderTask(e)))),s},l=t=>{const s=e("div",{class:"list-footer"}),d=e("div",{class:"new-task"},"+ Add new task");return s.appendChild(d),s},c=t=>{const s=e("div",{class:"work-space container"}),d=((t,s)=>{const d={text:t,target:s,active:!1};return Object.assign({},(t=>({renderBtn:()=>{const s=e("div",{class:"new-list"}),d=e("form",{class:"hide",id:"new-list-from"}),i=e("input",{id:"list-title-input",type:"text",placeholder:"Enter list title..."}),n=e("div",{id:"create-list"},t.text);return d.appendChild(i),s.appendChild(d),s.appendChild(n),s.addEventListener("mouseenter",(()=>{d.classList.remove("hide")})),s.addEventListener("mouseleave",(()=>{d.classList.add("hide")})),s}}))(d),(e=>({pushToMyLists:t=>{e.target.push(t)},log:()=>{console.log(e.target)},getIndex:()=>e.target.length}))(d))})("+ Create new list",t),i=d.renderBtn();return i.lastChild.addEventListener("click",(()=>{const c=((t,s,d)=>{const i={title:t,tasks:[],index:s,parent:d};return Object.assign({},(e=>({addtask:t=>e.tasks.push(t),changeIndex:t=>e.index=t,deleteList:()=>{}}))(i),(e=>({get title(){return e.title},get tasks(){return e.tasks},get index(){return e.index}}))(i),(e=>({logTasks:()=>e.tasks.forEach((e=>e.logTitle()))}))(i),(t=>({renderList:()=>{const s=e("div",{class:"list",name:t.title,"data-index":t.index}),d=r(t),i=a(t),c=l(t);return d.lastChild.addEventListener("click",(()=>{t.parent.splice(t.index,1);for(let e=0;e<t.parent.length;e++)t.parent[e].index=e;d.parentElement.remove()})),c.firstChild.addEventListener("click",(()=>{const e=((e,t,s,d,i)=>{let r={title:"Click to add title",description:"",dateCreated:new Date,dueDate:"due",priority:"",notes:[],completed:!1,parent:i,index:i.length};return Object.assign({},(e=>({get title(){return e.title},get description(){return e.description},get dateCreated(){return e.dateCreated},get dueDate(){return e.dueDate},get priority(){return e.priority},get notes(){return e.notes}}))(r),(e=>({updateTitle:t=>e.title=t,updateDescription:t=>e.description=t,updateDueDate:t=>e.dueDate=t,updatePriority:t=>e.priority=t,addNote:t=>e.notes.push(t)}))(r),n(r))})(0,0,0,0,t.tasks);t.tasks.push(e),i.appendChild(e.renderTask())})),s.appendChild(d),s.appendChild(i),s.appendChild(c),s}}))(i))})(i.firstChild.firstChild.value,d.getIndex(),t);d.pushToMyLists(c),s.insertBefore(c.renderList(),s.lastChild),i.firstChild.reset()})),s.appendChild(i),t.forEach((e=>{s.insertBefore(e.renderList(),s.childNodes[0])})),s};({content:document.querySelector("#content")}).content.appendChild((t=>{const s=document.createElement("div");return s.appendChild((()=>{const t=document.createElement("nav"),s=(t=>{const s=e("div",{class:"row"});return t.forEach((t=>{const d=(t=>{const s=e("div",{class:"col"}),d=e("div",{class:t.classes},t.text);return s.appendChild(d),s})(t);s.appendChild(d)})),s})([{text:"TaskTracker",classes:"logo"}]);return s.classList.add("container"),t.appendChild(s),t})()),s.appendChild(c(t)),s})([])),document.querySelector("#create-list")})();